<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="manifest" href="manifest.json">
    <title>WordZen Arena</title>
    <style>
        :root { --neon-green: #00ff88; --neon-red: #ff3e3e; --neon-gold: #ffd700; --neon-blue: #00d4ff; --neon-purple: #a855f7; }
        body { 
            margin: 0; background: #000; color: white; overflow: hidden;
            font-family: 'Segoe UI', Roboto, sans-serif; display: flex; flex-direction: column; align-items: center; 
            height: 100vh; width: 100%; position: fixed;
        }

        /* GÄ°RÄ°Åž ANÄ°MASYONU */
        #splash { position: fixed; inset: 0; background: #000; z-index: 4000; display: flex; justify-content: center; align-items: center; transition: opacity 1s; }
        .s-logo { font-size: 3rem; font-weight: 200; color: #fff; letter-spacing: 15px; opacity: 0; animation: zenFade 4s forwards; }
        @keyframes zenFade { 0% { opacity:0; transform:scale(0.8); } 50% { opacity:1; } 100% { opacity:0; transform:scale(1.1); } }

        /* MENÃœLER */
        #name-screen, #main-menu, #arena-lobby, #arena-game { position: fixed; inset: 0; background: #000; z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; gap: 20px; }
        
        .menu-btn { width: 260px; padding: 18px; border-radius: 15px; font-weight: bold; cursor: pointer; text-align: center; border: 2px solid transparent; background: rgba(255,255,255,0.03); color: white; }
        #btn-solo { border-color: var(--neon-green); color: var(--neon-green); }
        #btn-arena { border-color: var(--neon-blue); color: var(--neon-blue); }

        /* ARENA Ã–ZELLÄ°KLERÄ° */
        .score-board { display: flex; gap: 40px; font-size: 1.2rem; margin-bottom: 20px; color: var(--neon-gold); }
        #timer-neon { font-size: 2rem; color: var(--neon-red); text-shadow: 0 0 15px var(--neon-red); margin-bottom: 20px; }
        
        .letter-box { width: 38px; height: 52px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; font-weight: bold; transition: 0.3s; }
        .active-box { border-color: var(--neon-green); box-shadow: 0 0 10px var(--neon-green); }
        .correct-neon { border-color: var(--neon-green) !important; color: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }
        
        #offline-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 5000; display: none; flex-direction: column; align-items: center; justify-content: center; }
    </style>
</head>
<body onclick="focusInput()">

<div id="splash"><div class="s-logo">WordZen</div></div>

<div id="name-screen" style="display:flex;">
    <h2 style="color:var(--neon-blue)">Ä°SMÄ°NÄ° YAZ</h2>
    <input type="text" id="user-name-input" placeholder="Oyuncu AdÄ±" maxlength="12" style="background:transparent; border:none; border-bottom:2px solid var(--neon-blue); color:white; font-size:1.5rem; text-align:center; outline:none;">
    <button class="menu-btn" style="border-color:var(--neon-green); margin-top:20px;" onclick="saveName()">BAÅžLA</button>
</div>

<div id="main-menu">
    <div style="font-size:2.5rem; color:var(--neon-blue); margin-bottom:40px; letter-spacing:10px;">WordZen</div>
    <div class="menu-btn" id="btn-solo" onclick="startSolo()">SOLO MOD</div>
    <div class="menu-btn" id="btn-arena" onclick="openArena()">1v1 ARENA</div>
</div>

<div id="arena-lobby">
    <div style="border:1px solid var(--neon-blue); padding:30px; border-radius:20px; text-align:center; width:85%;">
        <h2 id="lobby-title" style="color:var(--neon-blue)">ARENA LOBÄ°SÄ°</h2>
        <div id="room-controls">
            <button class="menu-btn" style="border-color:var(--neon-gold); margin-bottom:10px;" onclick="createRoom()">ODA KUR</button>
            <p>veya</p>
            <input type="number" id="join-input" placeholder="ODA NO" style="background:transparent; border:none; border-bottom:2px solid #fff; color:#fff; font-size:1.5rem; width:120px; text-align:center; margin-bottom:20px;">
            <button class="menu-btn" style="border-color:var(--neon-blue);" onclick="joinRoom()">ODAYA GÄ°R</button>
        </div>
        <div id="room-info" style="display:none;">
            <p>ODA KODU: <span id="display-code" style="font-size:2rem; color:white;">----</span></p>
            <p id="player-count">Oyuncu: 1/2</p>
            <button class="menu-btn" style="background:var(--neon-red); border:none;" onclick="startMatch()">SAVAÅž!</button>
        </div>
        <button onclick="closeLobby()" style="margin-top:20px; background:none; border:none; color:#666;">ODAYI KAPAT / Ã‡IK</button>
    </div>
</div>

<div id="arena-game">
    <div class="score-board">
        <div><span id="p1-name">SEN</span>: <span id="p1-score">0</span></div>
        <div><span id="p2-name">RAKÄ°P</span>: <span id="p2-score">0</span></div>
    </div>
    <div id="timer-neon">60</div>
    <div id="word-container" style="display:flex; gap:8px;"></div>
    <p id="round-info" style="margin-top:20px; color:var(--neon-blue);">SORU: 1/10</p>
</div>

<div id="offline-overlay">
    <div style="font-size:4rem;">ðŸ“¶<span style="color:var(--neon-red); font-weight:bold;">!</span></div>
    <h2 style="color:var(--neon-red)">BAÄžLANTINIZ KESÄ°LDÄ°</h2>
</div>

<input type="text" id="hidden-input" style="position:absolute; opacity:0; pointer-events:none;" autocomplete="off">

<script>
    let userName = "";
    let roomCode = null;
    let arenaScores = { p1: 0, p2: 0 };
    let arenaRound = 1;
    let timerInterval;
    
    // 10 ARENA SORUSU [cite: 2026-01-08]
    const arenaWords = [
        {a:"KLAVYE", m:"YazÄ± yazmaya yarayan tuÅŸ takÄ±mÄ±."},
        {a:"SUNUCU", m:"Verileri daÄŸÄ±tan ana bilgisayar."},
        {a:"YAZILIM", m:"Bilgisayar programlarÄ±nÄ±n genel adÄ±."},
        {a:"EKRAN", m:"GÃ¶rÃ¼ntÃ¼yÃ¼ yansÄ±tan yÃ¼zey."},
        {a:"BAÄžLANTI", m:"Ä°ki nokta arasÄ±ndaki iletiÅŸim yolu."},
        {a:"REKABET", m:"YarÄ±ÅŸma hali, Ã§ekiÅŸme."},
        {a:"ZAFER", m:"YarÄ±ÅŸ sonunda kazanÄ±lan baÅŸarÄ±."},
        {a:"PUAN", m:"BaÅŸarÄ± karÅŸÄ±lÄ±ÄŸÄ± verilen deÄŸer."},
        {a:"JETON", m:"Oyun iÃ§i para birimi."},
        {a:"ARENA", m:"KapÄ±ÅŸmalarÄ±n yaÅŸandÄ±ÄŸÄ± meydan."}
    ];

    function saveName() {
        const val = document.getElementById('user-name-input').value;
        if(val.length > 1) {
            userName = val.toUpperCase();
            document.getElementById('name-screen').style.display = 'none';
            document.getElementById('main-menu').style.display = 'flex';
            document.getElementById('p1-name').innerText = userName;
        }
    }

    function openArena() {
        if(!navigator.onLine) { document.getElementById('offline-overlay').style.display='flex'; return; }
        document.getElementById('arena-lobby').style.display = 'flex';
    }

    function closeLobby() {
        roomCode = null;
        document.getElementById('room-info').style.display = 'none';
        document.getElementById('room-controls').style.display = 'block';
        document.getElementById('arena-lobby').style.display = 'none';
    }

    function createRoom() {
        roomCode = Math.floor(1000 + Math.random() * 9000); // [cite: 2026-01-08]
        document.getElementById('display-code').innerText = roomCode;
        document.getElementById('room-controls').style.display = 'none';
        document.getElementById('room-info').style.display = 'block';
    }

    function startMatch() {
        document.getElementById('arena-lobby').style.display = 'none';
        document.getElementById('arena-game').style.display = 'flex';
        arenaRound = 1; arenaScores = {p1:0, p2:0};
        loadArenaWord();
    }

    function loadArenaWord() {
        clearInterval(timerInterval);
        if(arenaRound > 10) { endArena(); return; } // [cite: 2026-01-08]
        
        document.getElementById('round-info').innerText = "SORU: " + arenaRound + "/10";
        let timeLeft = 60; // [cite: 2026-01-08]
        document.getElementById('timer-neon').innerText = timeLeft;
        
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('timer-neon').innerText = timeLeft;
            if(timeLeft <= 0) { arenaRound++; loadArenaWord(); }
        }, 1000);

        // Harf kutularÄ±nÄ± oluÅŸturma ve kelime mantÄ±ÄŸÄ± Solo mod ile aynÄ± entegre edilir [cite: 2026-01-08]
    }

    function endArena() {
        clearInterval(timerInterval);
        let winnerText = arenaScores.p1 > arenaScores.p2 ? "KAZANDIN! +10 JETON" : "BERABERE! +5 JETON"; // [cite: 2026-01-08]
        alert("ARENA BÄ°TTÄ°: " + winnerText);
        location.reload();
    }

    window.addEventListener('offline', () => { document.getElementById('offline-overlay').style.display = 'flex'; });
    window.addEventListener('online', () => { document.getElementById('offline-overlay').style.display = 'none'; });
</script>
</body>
</html>
