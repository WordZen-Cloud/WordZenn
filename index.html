<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>WordZen</title>
    <style>
        :root { --neon-green: #00ff88; --neon-blue: #00d4ff; --neon-purple: #a855f7; --neon-gold: #ffd700; --neon-red: #ff3e3e; }
        body { 
            margin: 0; background: #000; color: white; overflow: hidden;
            font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; 
            height: 100vh; width: 100%; position: fixed;
        }

        /* HEADER & COINS */
        #header { width: 90%; display: none; justify-content: space-between; align-items: center; margin-top: 30px; z-index: 10; }
        #coin-area { display: flex; align-items: center; gap: 8px; font-size: 1.5rem; font-weight: bold; color: var(--neon-gold); }
        #logo-top { font-size: 2.2rem; font-weight: 200; letter-spacing: 12px; color: var(--neon-blue); opacity: 0.4; }

        /* SCREENS */
        #main-menu, #arena-lobby, #game-screen { position: fixed; inset: 0; display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 5; }
        .menu-btn { width: 260px; padding: 20px; border-radius: 15px; font-weight: bold; cursor: pointer; text-align: center; border: 2px solid var(--neon-blue); color: var(--neon-blue); background: rgba(0, 212, 255, 0.05); margin-bottom: 15px; }

        /* LOBBY STYLE */
        #arena-lobby input { background: transparent; border: none; border-bottom: 2px solid #fff; color: #fff; font-size: 2rem; width: 150px; text-align: center; outline: none; margin: 20px 0; }

        /* GAME ELEMENTS */
        #level-display { background: rgba(255,255,255,0.04); padding: 15px 45px; border-radius: 20px; text-align: center; margin-bottom: 30px; }
        #lvl-txt { font-size: 0.8rem; color: #666; text-transform: uppercase; }
        #diff-txt { color: var(--neon-green); font-weight: bold; font-size: 1.3rem; letter-spacing: 3px; }
        #timer-neon { font-size: 2.5rem; color: var(--neon-red); font-weight: bold; margin-bottom: 20px; text-shadow: 0 0 15px var(--neon-red); }

        #word-container { display: flex; gap: 10px; margin-bottom: 30px; }
        .letter-box { width: 48px; height: 62px; border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: bold; transition: 0.3s; }
        .filled { border-color: var(--neon-green) !important; color: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }
        .active-box { border: 2px solid var(--neon-green); box-shadow: 0 0 10px var(--neon-green); }

        #meaning-box { width: 85%; padding: 20px; border-radius: 18px; border: 1px solid var(--neon-purple); background: rgba(168, 85, 247, 0.1); display: none; text-align: center; margin-top: 20px; }

        /* HELP BUTTONS */
        #controls-right { position: fixed; top: 100px; right: 20px; display: none; flex-direction: column; gap: 15px; }
        .help-btn { width: 75px; padding: 12px 5px; border-radius: 18px; border: 1px solid var(--neon-gold); background: rgba(255,215,0,0.03); cursor: pointer; text-align: center; font-size: 1.2rem; }
        .help-btn span { display: block; font-size: 0.6rem; color: var(--neon-gold); font-weight: bold; margin-top: 5px; }

        #next-btn { margin-top: 30px; padding: 18px 60px; border-radius: 35px; border: none; background: var(--neon-green); color: #000; font-weight: bold; font-size: 1.1rem; display: none; cursor: pointer; }
        #footer { position: fixed; bottom: 25px; font-size: 0.6rem; color: #222; letter-spacing: 3px; font-weight: bold; }
    </style>
</head>
<body onclick="focusInput()">

    <div id="header">
        <div id="coin-area">ðŸª™ <span id="coin-txt">0</span></div>
        <div id="logo-top">WordZen</div>
        <div style="width: 50px;"></div>
    </div>

    <div id="main-menu" style="display: flex;">
        <div style="font-size:3rem; color:var(--neon-blue); margin-bottom:40px; letter-spacing:15px; opacity:0.6;">WordZen</div>
        <div class="menu-btn" onclick="startNormal()">NORMAL MOD</div>
        <div class="menu-btn" style="border-color:var(--neon-purple); color:var(--neon-purple);" onclick="openArenaLobby()">1v1 ARENA</div>
    </div>

    <div id="arena-lobby">
        <h2 style="color:var(--neon-blue)">ARENA</h2>
        <button class="menu-btn" onclick="createRoom()">ODA KUR</button>
        <p>veya</p>
        <input type="number" id="room-id-input" placeholder="0000">
        <button class="menu-btn" onclick="joinRoom()">ODAYA KATIL</button>
        <div id="room-info" style="display:none; text-align:center;">
            <h1 id="room-code-display" style="font-size:3rem; color:var(--neon-gold);">----</h1>
            <p id="room-status" style="color:var(--neon-green)">Odaya Girildi! (2/2)</p>
            <button class="menu-btn" style="background:var(--neon-green); color:#000; border:none;" onclick="startArenaMatch()">BAÅžLAT</button>
        </div>
        <p onclick="location.reload()" style="color:#555; cursor:pointer; text-decoration:underline;">Geri DÃ¶n</p>
    </div>

    <div id="game-screen">
        <div id="timer-neon" style="display:none;">60</div>
        <div id="level-display">
            <div id="lvl-txt">BÃ¶lÃ¼m 1</div>
            <div id="diff-txt">KOLAY</div>
        </div>
        <div id="word-container"></div>
        <div id="meaning-box">
            <div style="color:var(--neon-purple); font-size:0.75rem; font-weight:bold; margin-bottom:8px; letter-spacing:2px;">ANLAMI</div>
            <div id="m-text"></div>
        </div>
        <button id="next-btn" onclick="nextLevel()">SONRAKÄ° (+4 ðŸª™)</button>
    </div>

    <div id="controls-right">
        <div class="help-btn" onclick="useHint()">ðŸ’¡<span>12 JETON</span></div>
        <div class="help-btn" style="border-color: var(--neon-blue);" onclick="skipLevel()">â‰«<span style="color:var(--neon-blue)">25 JETON<br>ATLA</span></div>
    </div>

    <div id="footer">Â© 2026 WordZen - NO COPYRIGHT</div>
    <input type="text" id="hidden-input" style="position:absolute; opacity:0;" autocomplete="off">

<script>
    const levels = [
        {a:"ADA", m:"DÃ¶rt tarafÄ± sularla Ã§evrili kara parÃ§asÄ±.", d:"KOLAY"},
        {a:"BARDAK", m:"Su ve iÃ§ecek iÃ§mek iÃ§in kullanÄ±lan kap.", d:"KOLAY"},
        {a:"LÃœGAT", m:"SÃ¶zlÃ¼k anlamÄ±ndaki eski kelime.", d:"ORTA"}
    ];

    let current = parseInt(localStorage.getItem('wz_lvl')) || 0;
    let coins = parseInt(localStorage.getItem('wz_coins')) || 16;
    let userGuess = [];
    let isFinished = false;
    let isArena = false;
    let timer;
    let arenaRound = 1;

    function startNormal() {
        isArena = false;
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('header').style.display = 'flex';
        document.getElementById('game-screen').style.display = 'flex';
        document.getElementById('controls-right').style.display = 'flex';
        document.getElementById('timer-neon').style.display = 'none';
        initRound(levels[current % levels.length]);
    }

    function openArenaLobby() {
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('arena-lobby').style.display = 'flex';
    }

    function createRoom() {
        let code = Math.floor(1000 + Math.random() * 9000);
        document.getElementById('room-code-display').innerText = code;
        document.getElementById('room-info').style.display = 'block';
    }

    function joinRoom() {
        let code = document.getElementById('room-id-input').value;
        if(code.length === 4) { [cite: 2026-01-08]
            document.getElementById('room-code-display').innerText = code;
            document.getElementById('room-info').style.display = 'block';
        }
    }

    function startArenaMatch() {
        isArena = true; arenaRound = 1;
        document.getElementById('arena-lobby').style.display = 'none';
        document.getElementById('header').style.display = 'flex';
        document.getElementById('game-screen').style.display = 'flex';
        document.getElementById('timer-neon').style.display = 'block';
        document.getElementById('controls-right').style.display = 'none';
        nextArenaRound();
    }

    function nextArenaRound() {
        if(arenaRound > 10) { alert("Arena Bitti! Jetonlar Eklendi."); coins += 6; updateData(); location.reload(); return; }
        let rand = levels[Math.floor(Math.random() * levels.length)];
        initRound(rand);
        
        let sec = 60; [cite: 2026-01-08]
        document.getElementById('timer-neon').innerText = sec;
        clearInterval(timer);
        timer = setInterval(() => {
            sec--;
            document.getElementById('timer-neon').innerText = sec;
            if(sec <= 0) { // SÃœRE BÄ°TTÄ°ÄžÄ°NDE [cite: 2026-01-08]
                clearInterval(timer);
                showCorrectAndNext(rand.a); [cite: 2026-01-08]
            }
        }, 1000);
    }

    function showCorrectAndNext(correctWord) {
        const boxes = document.getElementsByClassName('letter-box');
        correctWord.split('').forEach((char, i) => { boxes[i].innerText = char; boxes[i].classList.add('filled'); });
        document.getElementById('meaning-box').style.display = "block"; [cite: 2026-01-08]
        setTimeout(() => { arenaRound++; nextArenaRound(); }, 3000); // 3 sn gÃ¶ster ve geÃ§
    }

    function initRound(data) {
        isFinished = false;
        document.getElementById('lvl-txt').innerText = "BÃ¶lÃ¼m " + (isArena ? arenaRound : (current + 1));
        document.getElementById('diff-txt').innerText = data.d;
        document.getElementById('m-text').innerText = data.m;
        document.getElementById('meaning-box').style.display = "none"; [cite: 2026-01-08]
        document.getElementById('next-btn').style.display = "none";
        document.getElementById('coin-txt').innerText = coins;
        
        const container = document.getElementById('word-container');
        container.innerHTML = ""; userGuess = [];
        data.a.split('').forEach((_, i) => {
            const box = document.createElement('div');
            box.className = 'letter-box';
            if(i === 0) box.classList.add('active-box');
            container.appendChild(box);
            userGuess[i] = null;
        });
    }

    const input = document.getElementById('hidden-input');
    input.oninput = (e) => {
        if(isFinished) return;
        let char = e.target.value.slice(-1).toUpperCase();
        if(/[A-ZÃ‡ÄžÄ°Ã–ÅžÃœ]/.test(char)) {
            let idx = userGuess.indexOf(null);
            if(idx !== -1) {
                userGuess[idx] = char;
                let boxes = document.getElementsByClassName('letter-box');
                boxes[idx].innerText = char;
                boxes[idx].classList.remove('active-box');
                if(userGuess.indexOf(null) !== -1) boxes[userGuess.indexOf(null)].classList.add('active-box');
                if(!userGuess.includes(null)) checkAnswer();
            }
        }
        e.target.value = "";
    };

    function checkAnswer() {
        const target = isArena ? document.getElementsByClassName('letter-box').length : levels[current % levels.length].a.length;
        let word = isArena ? "" : levels[current % levels.length].a;
        
        // Basit kontrol (Normal Mod)
        if(!isArena && userGuess.join('') === word) {
            coins += 4; [cite: 2026-01-08]
            finishRound();
        } else if(isArena) {
            // Arena'da bildiÄŸini varsayÄ±yoruz (Puan sistemi buraya gelir)
            clearInterval(timer);
            finishRound();
            setTimeout(() => { arenaRound++; nextArenaRound(); }, 2000);
        }
    }

    function finishRound() {
        isFinished = true;
        updateData();
        Array.from(document.getElementsByClassName('letter-box')).forEach(b => b.classList.add('filled'));
        document.getElementById('meaning-box').style.display = "block"; [cite: 2026-01-08]
        if(!isArena) document.getElementById('next-btn').style.display = "block";
    }

    function useHint() {
        if(coins >= 12 && !isFinished) { [cite: 2026-01-08]
            let empty = userGuess.indexOf(null);
            if(empty !== -1) {
                let correct = levels[current % levels.length].a[empty];
                userGuess[empty] = correct;
                document.getElementsByClassName('letter-box')[empty].innerText = correct;
                document.getElementsByClassName('letter-box')[empty].classList.add('filled');
                coins -= 12; updateData();
                if(!userGuess.includes(null)) checkAnswer();
            }
        }
    }

    function skipLevel() {
        if(coins >= 25 && !isFinished) { [cite: 2026-01-08]
            coins -= 25; updateData();
            showCorrectAndNextNormal(); [cite: 2026-01-08]
        }
    }

    function showCorrectAndNextNormal() {
        const target = levels[current % levels.length].a;
        const boxes = document.getElementsByClassName('letter-box');
        target.split('').forEach((char, i) => {
            setTimeout(() => {
                boxes[i].innerText = char;
                boxes[i].classList.add('filled');
                if(i === target.length - 1) {
                    isFinished = true;
                    document.getElementById('meaning-box').style.display = "block"; [cite: 2026-01-08]
                    document.getElementById('next-btn').style.display = "block";
                }
            }, i * 150);
        });
    }

    function updateData() {
        document.getElementById('coin-txt').innerText = coins;
        localStorage.setItem('wz_coins', coins);
        localStorage.setItem('wz_lvl', current);
    }

    function nextLevel() { current++; updateData(); initRound(levels[current % levels.length]); }
    function focusInput() { input.focus(); }
</script>
</body>
</html>
